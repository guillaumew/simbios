/*!
  * Simple-Jekyll-Search
  * Copyright 2015-2020, Christian Fei
  * Licensed under the MIT License.
  */
!function(){"use strict";function e(){return 0}function t(){return f.length=0,f}function n(e){return Boolean(e)&&"[object Object]"===Object.prototype.toString.call(e)}function r(e){return f.push(e),f}function o(e,t){return function(){if(4===e.readyState&&200===e.status)try{t(null,JSON.parse(e.responseText))}catch(n){t(n,null)}}}var i={compile:function(e){return u.template.replace(u.pattern,function(t,n){var r=u.middleware(n,e[n],u.template);return void 0!==r?r:e[n]||t})},setOptions:function(e){u.pattern=e.pattern||u.pattern,u.template=e.template||u.template,"function"==typeof e.middleware&&(u.middleware=e.middleware)}};const u={pattern:/\{(.*?)\}/g,template:"",middleware:function(){}};var c=function(e,t){var n=t.length,r=e.length;if(n<r)return!1;if(r===n)return e===t;e:for(var o=0,i=0;o<r;o++){for(var u=e.charCodeAt(o);i<n;)if(t.charCodeAt(i++)===u)continue e;return!1}return!0},s=new function(){this.matches=function(e,t){return c(t.toLowerCase(),e.toLowerCase())}},l=new function(){this.matches=function(e,t){return!!e&&(e=e.trim().toLowerCase(),(t=t.trim().toLowerCase()).split(" ").filter(function(t){return 0<=e.indexOf(t)}).length===t.split(" ").length)}},a={put:function(e){return n(e)?r(e):function(e){return Boolean(e)&&"[object Array]"===Object.prototype.toString.call(e)}(e)?function(e){const o=[];t();for(let t=0,i=e.length;t<i;t++)n(e[t])&&o.push(r(e[t]));return o}(e):undefined},clear:t,search:function(e){return e?function(e,t,n,r){const o=[];for(let u=0;u<e.length&&o.length<r.limit;u++){var i=function(e,t,n,r){for(const o in e)if(!function(e,t){for(let r=0,o=t.length;r<o;r++){var n=t[r];if(new RegExp(n).test(e))return!0}return!1}(e[o],r.exclude)&&n.matches(e[o],t))return e}(e[u],t,n,r);i&&o.push(i)}return o}(f,e,d.searchStrategy,d).sort(d.sort):[]},setOptions:function(t){(d=t||{}).fuzzy=t.fuzzy||!1,d.limit=t.limit||10,d.searchStrategy=t.fuzzy?s:l,d.sort=t.sort||e,d.exclude=t.exclude||[]}};const f=[];let d={fuzzy:!1,limit:10};d.searchStrategy=d.fuzzy?s:l,d.sort=e,d.exclude=[];var p={load:function(e,t){const n=window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");n.open("GET",e,!0),n.onreadystatechange=o(n,t),n.send()}},h=function y(e){if(!(t=e)||!("undefined"!=typeof t.required&&t.required instanceof Array))throw new Error("-- OptionsValidator: required options missing");var t;if(!(this instanceof y))return new y(e);const n=e.required;this.getRequiredOptions=function(){return n},this.validate=function(e){const t=[];return n.forEach(function(n){"undefined"==typeof e[n]&&t.push(n)}),t}},m={merge:function(e,t){const n={};for(const r in e)n[r]=e[r],"undefined"!=typeof t[r]&&(n[r]=t[r]);return n},isJSON:function(e){try{return!!(e instanceof Object&&JSON.parse(JSON.stringify(e)))}catch(s){return!1}}};!function(e){function t(e){a.put(e),s.searchInput.addEventListener("input",function(e){-1===[13,16,20,37,38,39,40,91].indexOf(e.which)&&(n(),l(function(){o(e.target.value)},s.debounceTime))})}function n(){s.resultsContainer.innerHTML=""}function r(e){s.resultsContainer.innerHTML+=e}function o(e){var t;(t=e)&&0<t.length&&(n(),function(e,t){var n=e.length;if(0===n)return r(s.noResultsText);for(let o=0;o<n;o++)e[o].query=t,r(i.compile(e[o]))}(a.search(e),e))}function u(e){throw new Error("SimpleJekyllSearch --- "+e)}let c,s={searchInput:null,resultsContainer:null,json:[],success:Function.prototype,searchResultTemplate:'<li><a href="{url}" title="{desc}">{title}</a></li>',templateMiddleware:Function.prototype,sortMiddleware:function(){return 0},noResultsText:"No results found",limit:10,fuzzy:!1,debounceTime:null,exclude:[]};const l=function(e,t){t?(clearTimeout(c),c=setTimeout(e,t)):e.call()};var f=["searchInput","resultsContainer","json"];const d=h({required:f});e.SimpleJekyllSearch=function(e){var n;return 0<d.validate(e).length&&u("You must specify the following required options: "+f),s=m.merge(s,e),i.setOptions({template:s.searchResultTemplate,middleware:s.templateMiddleware}),a.setOptions({fuzzy:s.fuzzy,limit:s.limit,sort:s.sortMiddleware,exclude:s.exclude}),m.isJSON(s.json)?t(s.json):(n=s.json,p.load(n,function(e,r){e&&u("failed to get JSON ("+n+")"),t(r)})),e={search:o},"function"==typeof s.success&&s.success.call(e),e}}(window)}(),SimpleJekyllSearch({searchInput:document.getElementById("search-input"),resultsContainer:document.getElementById("results-container"),json:"/blog/search.json",limit:5,noResultsText:"Aucun r\xe9sultat pour cette recherche."}),document.getElementById("cross").addEventListener("click",function(){document.getElementById("search-input").value="",document.getElementById("results-container").innerHTML=""});